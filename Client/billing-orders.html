<script>
  if(!window.jQuery)
  {
    var script = document.createElement('script');
    script.type = "text/javascript";
    script.src = "/vendor/jquery/dist/jquery.min.js";
    document.getElementsByTagName('head')[0].appendChild(script);
  }
</script>
<link rel="import" href="/vendor/hot-table/src/hot-table.html">

<template bind="{{Billing}}">
  <style>
    .request-invoice {
      margin-top: 20px;
    }
  </style>

  <div>
    <h1><i class="ingredient-icon"></i>Current orders</h1>

    <hot-table id="invoiceHot" datarows="{{Orders}}">
      <hot-column width="200" readOnly value="Offer.Name" header="Name"></hot-column>
      <hot-column width="100" value="Offer.Price" readOnly header="Price (EUR)"></hot-column>
    </hot-table>

    <script>
      window.requestAnimationFrame(function () {
        window.requestAnimationFrame(function () {
          var hot = document.getElementById("invoiceHot");
          hot.updateSettings({ data: getModel(hot).Orders });
        });
      });
    </script>

    <button class="launcher-button request-invoice" style="background-color:#11653B" onclick="getModel(this).Requestinvoice$ = null">Request Invoice</button>

  </div>
</template>
